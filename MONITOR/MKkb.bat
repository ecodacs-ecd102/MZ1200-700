@echo off

echo FOR CRAM INIT ROM

set ORIG=ORIG
set DIFF=BDIFF
set WORK=WORK
set OUT=.\27C512KB.bin

@rem 1234 ADDR ROM
@rem 0000 0000 SP-1002 ORG
@rem 0001 1000 NEWMON ORG
@rem 0010 2000 SP-1002 SD
@rem 0011 3000 NEWMON SD
@rem 0100 4000 1Z-009A ORG
@rem 0101 5000 NEWMON7 ORG
@rem 0110 6000 1Z-009A SD
@rem 0111 7000 NEWMON7 SD
@rem 1000 8000 SA-1510 ORG
@rem 1001 9000 SP-1002 ORG (EN CG)
@rem 1010 A000 SA-1510 SD
@rem 1011 B000 SP-1002 SD  (EN CG)
@rem 1100 C000 1Z-013A ORG
@rem 1101 D000 NEWMON7 ORG (EN CG)
@rem 1110 E000 1Z-013A SD
@rem 1111 F000 NEWMON7 SD  (EN CG)

mkdir %WORK%

@rem 0000 0000 SP-1002 ORG
@rem Use NoVBLNK, CRAM, NoKanaLED
bpatch.pl %ORIG%\SP-1002.orig.bin %WORK%\SP-1002+NoVBLNK.bin %DIFF%\SP-1002+NoVBLNK.bdiff %DIFF%\SP-1002+CRAM.bdiff %DIFF%\SP-1002+NoKanaLED.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %WORK%\"SP-1002+NoVBLNK.bin" %OUT%

@rem 0001 1000 NEWMON ORG
@rem Use EMU2ROM, SAVE2, NoVBLNK, REPEAT-FIX, CRAM, NoKanaLED
bpatch.pl %ORIG%\MZ-NEWMON.orig.bin %WORK%\MZ-NEWMON.bin %DIFF%\MZ-NEWMON+EMU2ROM.bdiff %DIFF%\MZ-NEWMON+SAVE2.bdiff %DIFF%\MZ-NEWMON+NoVBLNK.bdiff %DIFF%\MZ-NEWMON-REPEAT-FIX.bdiff %DIFF%\MZ-NEWMON+CRAM.bdiff %DIFF%\MZ-NEWMON+NoKanaLED.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"MZ-NEWMON.bin"			%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 0010 2000 SP-1002 SD
@rem Use NoVBLNK, SD, CRAM, NoKanaLED
bpatch.pl %ORIG%\SP-1002.orig.bin %WORK%\SP-1002+NoVBLNK+SD.bin %DIFF%\SP-1002+NoVBLNK.bdiff %DIFF%\SP-1002+SD.bdiff %DIFF%\SP-1002+CRAM.bdiff %DIFF%\SP-1002+NoKanaLED.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"SP-1002+NoVBLNK+SD.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 0011 3000 NEWMON SD
@rem Use EMU2ROM, SAVE2, NoVBLNK, SD, REPEAT-FIX, CRAM, NoKanaLED
bpatch.pl %ORIG%\MZ-NEWMON.orig.bin %WORK%\MZ-NEWMON+SD.bin %DIFF%\MZ-NEWMON+EMU2ROM.bdiff %DIFF%\MZ-NEWMON+SAVE2.bdiff %DIFF%\MZ-NEWMON+NoVBLNK.bdiff %DIFF%\MZ-NEWMON+SD.bdiff %DIFF%\MZ-NEWMON-REPEAT-FIX.bdiff %DIFF%\MZ-NEWMON+CRAM.bdiff %DIFF%\MZ-NEWMON+NoKanaLED.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"MZ-NEWMON+SD.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 0100 4000 1Z-009A ORG
@rem Use MZ1200, bell
bpatch.pl %ORIG%\1Z-009A.orig.bin %WORK%\1Z-009A+MZ1200.bin %DIFF%\1Z-009A+MZ1200.bdiff %DIFF%\1Z-009A+bell.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"1Z-009A+MZ1200.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 0101 5000 NEWMON7 ORG
@rem Use FCMD, MZ1200, REPEAT-FIX, NoKanaLED, CRAM
bpatch.pl %ORIG%\700-NEWMON.orig.bin %WORK%\700-NEWMON+MZ1200.bin %DIFF%\700-NEWMON+FCMD.bdiff %DIFF%\700-NEWMON+MZ1200.bdiff %DIFF%\MZ-NEWMON-REPEAT-FIX.bdiff %DIFF%\700-NEWMON+NoKanaLED.bdiff %DIFF%\700-NEWMON+CRAM.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"700-NEWMON+MZ1200.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 0110 6000 1Z-009A SD
@rem Use MZ1200, SD, bell
bpatch.pl %ORIG%\1Z-009A.orig.bin %WORK%\1Z-009A+MZ1200+SD.bin %DIFF%\1Z-009A+MZ1200.bdiff %DIFF%\1Z-009A+SD.bdiff %DIFF%\1Z-009A+bell.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"1Z-009A+MZ1200+SD.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 0111 7000 NEWMON7 SD
@rem Use FCMD, MZ1200, SD, REPEAT-FIX, NoKanaLED, CRAM
bpatch.pl %ORIG%\700-NEWMON.orig.bin %WORK%\700-NEWMON+MZ1200+SD.bin %DIFF%\700-NEWMON+FCMD.bdiff %DIFF%\700-NEWMON+MZ1200.bdiff %DIFF%\700-NEWMON+SD.bdiff %DIFF%\MZ-NEWMON-REPEAT-FIX.bdiff %DIFF%\700-NEWMON+NoKanaLED.bdiff %DIFF%\700-NEWMON+CRAM.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"700-NEWMON+MZ1200+SD.bin"	%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1000 8000 SA-1510 ORG
@rem Use MZ1200,ALPHA
bpatch.pl %ORIG%\SA-1510.orig.bin %WORK%\SA-1510+MZ1200.bin %DIFF%\SA-1510+MZ1200.bdiff %DIFF%\SA-1510+ALPHA.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"SA-1510+MZ1200.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1001 9000 SP-1002 ORG (EN CG)
@rem Use NoVBLNK, CRAM, NoKanaLED
bpatch.pl %ORIG%\SP-1002.orig.bin %WORK%\SP-1002+NoVBLNK.bin %DIFF%\SP-1002+NoVBLNK.bdiff %DIFF%\SP-1002+CRAM.bdiff %DIFF%\SP-1002+NoKanaLED.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"SP-1002+NoVBLNK.bin" %WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1010 A000 SA-1510 SD
@rem Use SD, MZ1200,ALPHA
bpatch.pl %ORIG%\SA-1510.orig.bin %WORK%\SA-1510+SD+MZ1200.bin %DIFF%\SA-1510+SD.bdiff %DIFF%\SA-1510+MZ1200.bdiff %DIFF%\SA-1510+ALPHA.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"SA-1510+SD+MZ1200.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1011 B000 SP-1002 SD  (EN CG)
@rem Use NoVBLNK, SD, CRAM, NoKanaLED
bpatch.pl %ORIG%\SP-1002.orig.bin %WORK%\SP-1002+NoVBLNK+SD.bin %DIFF%\SP-1002+NoVBLNK.bdiff %DIFF%\SP-1002+SD.bdiff %DIFF%\SP-1002+CRAM.bdiff %DIFF%\SP-1002+NoKanaLED.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"SP-1002+NoVBLNK+SD.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1100 C000 1Z-013A ORG
@rem Use MZ1200, bell
bpatch.pl %ORIG%\1Z-013A.orig.bin %WORK%\1Z-013A+MZ1200.bin %DIFF%\1Z-013A+MZ1200.bdiff %DIFF%\1Z-013A+bell.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"1Z-013A+MZ1200.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1101 D000 NEWMON7 ORG (EN CG)
@rem Use FCMD, MZ1200, REPEAT-FIX, NoKanaLED, CRAM
bpatch.pl %ORIG%\700-NEWMON.orig.bin %WORK%\700-NEWMON+MZ1200.bin %DIFF%\700-NEWMON+FCMD.bdiff %DIFF%\700-NEWMON+MZ1200.bdiff %DIFF%\MZ-NEWMON-REPEAT-FIX.bdiff %DIFF%\700-NEWMON+NoKanaLED.bdiff %DIFF%\700-NEWMON+CRAM.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"700-NEWMON+MZ1200.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1110 E000 1Z-013A SD
@rem Use MZ1200, SD, bell
bpatch.pl %ORIG%\1Z-013A.orig.bin %WORK%\1Z-013A+MZ1200+SD.bin %DIFF%\1Z-013A+MZ1200.bdiff %DIFF%\1Z-013A+SD.bdiff %DIFF%\1Z-013A+bell.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"1Z-013A+MZ1200+SD.bin"		%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

@rem 1111 F000 NEWMON7 SD  (EN CG)
@rem Use FCMD, MZ1200, SD, REPEAT-FIX, NoKanaLED, CRAM
bpatch.pl %ORIG%\700-NEWMON.orig.bin %WORK%\700-NEWMON+MZ1200+SD.bin %DIFF%\700-NEWMON+FCMD.bdiff %DIFF%\700-NEWMON+MZ1200.bdiff %DIFF%\700-NEWMON+SD.bdiff %DIFF%\MZ-NEWMON-REPEAT-FIX.bdiff %DIFF%\700-NEWMON+NoKanaLED.bdiff %DIFF%\700-NEWMON+CRAM.bdiff
IF not %ERRORLEVEL% equ 0 GOTO ERREND
copy /b %OUT% + %WORK%\"700-NEWMON+MZ1200+SD.bin"	%WORK%\WK.bin
move /Y %WORK%\WK.bin %OUT%

echo "SUCCESS !"
goto OKEND

:ERREND
echo "ERROR !"

:OKEND
pause
